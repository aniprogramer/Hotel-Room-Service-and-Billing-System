<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('../partials/header') %>
    <title>My Orders | Hotel Service</title>
  </head>
  <body class="bg-light">
    <%- include('../partials/navbar',{user,active:'orders'}) %>

    <div class="container py-5">
      <h3 class="text-center fw-bold text-primary mb-4">ðŸ“¦ My Orders</h3>

      <% if(!orders.length){ %>
        <div class="alert alert-info text-center">No orders yet â€” explore the menu!</div>
      <% } else { %>
      <table class="table table-striped table-bordered text-center shadow-sm">
        <thead class="table-primary">
          <tr><th>Order ID</th><th>Room</th><th>Status</th><th>Total</th><th>Invoice</th></tr>
        </thead>
        <tbody>
          <% orders.forEach(o=>{ %>
          <tr>
            <td><%=o.order_id%></td>
            <td><%=o.room_number%></td>
            <td><span class="badge bg-<%=o.status==='READY'?'success':(o.status==='PLACED'?'secondary':'warning')%>"><%=o.status%></span></td>
            <td>â‚¹<%=o.total_amount.toFixed(2)%></td>
            <td><a href="/guest/invoice/<%=o.order_id%>" class="btn btn-sm btn-outline-primary">View</a></td>
          </tr>
          <%})%>
        </tbody>
      </table>
      <% } %>
    </div>

    <%- include('../partials/footer') %>
  </body>
</html>
